<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Airlines - ç™»æœºç‰Œ</title>
    <style>
        /* æ¨ªç‰ˆç™»æœºç‰Œæ ·å¼ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 30px;
        }
        
        .boarding-pass {
            background: white;
            width: 100%;
            max-width: 900px;
            min-height: 400px;
            position: relative;
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
            transform: rotate(0deg);
            margin: auto;
            border-radius: 5px;
            overflow: hidden;
        }
        
        /* é¡¶éƒ¨è£…é¥°æ¡ */
        .top-strip {
            height: 12px;
            background: linear-gradient(90deg, 
                #003366 0%, 
                #004080 20%, 
                #0055aa 40%, 
                #004080 60%, 
                #003366 100%);
        }
        
        /* ä¸»ä½“å¸ƒå±€ - æ¨ªç‰ˆ */
        .pass-content {
            display: flex;
            height: calc(100% - 12px);
        }
        
        /* å·¦ä¾§ä¸»è¦ä¿¡æ¯åŒº */
        .main-section {
            flex: 3;
            padding: 25px 30px;
            border-right: 2px dashed #ccc;
        }
        
        /* å³ä¾§ç™»æœºä¿¡æ¯åŒº */
        .boarding-section {
            flex: 2;
            padding: 25px 30px;
            background: #f8f9fa;
        }
        
        /* èˆªç©ºå…¬å¸æ ‡é¢˜ */
        .airline-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #003366;
        }
        
        .airline-title {
            font-size: 32px;
            font-weight: bold;
            color: #003366;
            letter-spacing: 2px;
        }
        
        .pass-type {
            font-size: 14px;
            color: #666;
            text-align: right;
        }
        
        /* ä¹˜å®¢ä¿¡æ¯ */
        .passenger-info {
            margin-bottom: 30px;
        }
        
        .passenger-name {
            font-size: 36px;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        
        .ticket-type {
            font-size: 14px;
            color: #666;
            letter-spacing: 1px;
        }
        
        /* èˆªç­ä¿¡æ¯ç½‘æ ¼ */
        .flight-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .info-box {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        
        .info-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
            text-transform: uppercase;
        }
        
        .info-value {
            font-size: 22px;
            font-weight: bold;
            color: #003366;
        }
        
        /* è¡Œç¨‹æ˜¾ç¤º */
        .route-display {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 25px 0;
            padding: 20px;
            background: white;
            border: 2px solid #003366;
            border-radius: 10px;
            position: relative;
        }
        
        .airport {
            text-align: center;
            flex: 1;
        }
        
        .airport-code {
            font-size: 42px;
            font-weight: bold;
            color: #003366;
            margin-bottom: 5px;
        }
        
        .airport-city {
            font-size: 16px;
            color: #333;
            margin-bottom: 3px;
        }
        
        .airport-name {
            font-size: 12px;
            color: #666;
        }
        
        .flight-divider {
            padding: 0 30px;
            position: relative;
        }
        
        .flight-icon {
            font-size: 36px;
            color: #003366;
            animation: fly 2s infinite;
        }
        
        @keyframes fly {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(10px); }
        }
        
        /* æ¡å½¢ç åŒºåŸŸ */
        .barcode-area {
            margin-top: 25px;
            text-align: center;
            padding: 15px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        
        .barcode-text {
            font-size: 11px;
            color: #666;
            margin-top: 8px;
            letter-spacing: 1px;
        }
        
        /* å³ä¾§ç™»æœºä¿¡æ¯ */
        .boarding-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .boarding-title {
            font-size: 24px;
            font-weight: bold;
            color: #003366;
            margin-bottom: 10px;
        }
        
        .flight-number {
            font-size: 18px;
            color: #666;
        }
        
        .boarding-details {
            margin: 30px 0;
        }
        
        .detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .detail-item {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .detail-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
            text-transform: uppercase;
        }
        
        .detail-value {
            font-size: 32px;
            font-weight: bold;
            color: #003366;
        }
        
        /* ç™»æœºæ—¶é—´çªå‡ºæ˜¾ç¤º */
        .boarding-time {
            text-align: center;
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #003366 0%, #004080 100%);
            color: white;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,51,102,0.3);
        }
        
        .time-label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 10px;
            letter-spacing: 1px;
        }
        
        .time-value {
            font-size: 42px;
            font-weight: bold;
            letter-spacing: 2px;
        }
        
        /* æ“ä½œæŒ‰é’® */
        .action-bar {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .action-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .print-btn {
            background: #28a745;
            color: white;
        }
        
        .print-btn:hover {
            background: #218838;
        }
        
        .home-btn {
            background: #6c757d;
            color: white;
        }
        
        .home-btn:hover {
            background: #5a6268;
        }
        
        /* æ¨ªç‰ˆæ‰“å°æ ·å¼ */
        @media print {
            body {
                background: white !important;
                padding: 0;
            }
            
            .boarding-pass {
                box-shadow: none;
                border: 1px solid #ccc;
                max-width: 100%;
            }
            
            .action-bar {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="boarding-pass">
        <!-- é¡¶éƒ¨è£…é¥°æ¡ -->
        <div class="top-strip"></div>
        
        <!-- ç™»æœºç‰Œä¸»ä½“ -->
        <div class="pass-content">
            <!-- å·¦ä¾§ä¸»è¦ä¿¡æ¯åŒº -->
            <div class="main-section">
                <!-- èˆªç©ºå…¬å¸æ ‡é¢˜ -->
                <div class="airline-header">
                    <div class="airline-title">TRAVEL AIRLINES</div>
                    <div class="pass-type">
                        <div>ELECTRONIC BOARDING PASS</div>
                        <div>ç”µå­ç™»æœºç‰Œ</div>
                    </div>
                </div>
                
                <!-- ä¹˜å®¢ä¿¡æ¯ -->
                <div class="passenger-info">
                    <div class="passenger-name" id="passengerName">-</div>
                    <div class="ticket-type">ELECTRONIC TICKET</div>
                </div>
                
                <!-- èˆªç­ä¿¡æ¯ç½‘æ ¼ -->
                <div class="flight-grid">
                    <div class="info-box">
                        <div class="info-label">Flight / èˆªç­</div>
                        <div class="info-value" id="flightNumber">AA0011</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label">Date / æ—¥æœŸ</div>
                        <div class="info-value" id="flightDate">-</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label">Class / èˆ±ä½</div>
                        <div class="info-value">ECONOMY</div>
                    </div>
                    <div class="info-box">
                        <div class="info-label">Terminal / èˆªç«™æ¥¼</div>
                        <div class="info-value">T2</div>
                    </div>
                </div>
                
                <!-- è¡Œç¨‹æ˜¾ç¤º -->
                <div class="route-display">
                    <div class="airport">
                        <div class="airport-code" id="departureCode">-</div>
                        <div class="airport-city" id="departureCity">-</div>
                        <div class="airport-name" id="departureAirport">-</div>
                    </div>
                    
                    <div class="flight-divider">
                        <div class="flight-icon">âœˆï¸</div>
                    </div>
                    
                    <div class="airport">
                        <div class="airport-code" id="arrivalCode">-</div>
                        <div class="airport-city" id="arrivalCity">-</div>
                        <div class="airport-name" id="arrivalAirport">-</div>
                    </div>
                </div>
                
                <!-- æ¡å½¢ç  -->
                <div class="barcode-area">
                    <div id="barcodeContainer">
                        <canvas id="barcodeCanvas"></canvas>
                    </div>
                    <div class="barcode-text">BOARDING PASS - SCAN AT GATE</div>
                </div>
            </div>
            
            <!-- å³ä¾§ç™»æœºä¿¡æ¯åŒº -->
            <div class="boarding-section">
                <!-- ç™»æœºä¿¡æ¯æ ‡é¢˜ -->
                <div class="boarding-header">
                    <div class="boarding-title">BOARDING PASS</div>
                    <div class="flight-number" id="displayFlightNumber">FLIGHT AA0011</div>
                </div>
                
                <!-- ç™»æœºè¯¦ç»†ä¿¡æ¯ -->
                <div class="boarding-details">
                    <div class="detail-grid">
                        <div class="detail-item">
                            <div class="detail-label">Gate / ç™»æœºå£</div>
                            <div class="detail-value" id="gateNumber">A3</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Seat / åº§ä½</div>
                            <div class="detail-value" id="seatNumber">22B</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Zone / åŒºåŸŸ</div>
                            <div class="detail-value">2</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Seq / åºå·</div>
                            <div class="detail-value" id="sequenceNumber">045</div>
                        </div>
                    </div>
                </div>
                
                <!-- ç™»æœºæ—¶é—´ -->
                <div class="boarding-time">
                    <div class="time-label">BOARDING TIME / ç™»æœºæ—¶é—´</div>
                    <div class="time-value" id="boardingTime">14:00</div>
                    <div style="font-size: 14px; margin-top: 5px; opacity: 0.9;">è¯·äºèµ·é£å‰ 45 åˆ†é’Ÿåˆ°è¾¾ç™»æœºå£</div>
                </div>
                
                <!-- é‡è¦æç¤º -->
                <div style="margin-top: 25px; padding: 15px; background: white; border-radius: 8px; font-size: 12px; color: #666; line-height: 1.5;">
                    <div style="font-weight: bold; color: #d9534f; margin-bottom: 5px;">âš ï¸ é‡è¦æç¤ºï¼š</div>
                    <div>1. è¯·æå‰å‡†å¤‡å¥½æœ‰æ•ˆèº«ä»½è¯ä»¶</div>
                    <div>2. ç™»æœºå£äºèµ·é£å‰ 15 åˆ†é’Ÿå…³é—­</div>
                    <div>3. éšèº«è¡Œæéœ€ç¬¦åˆå°ºå¯¸è§„å®š</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- æ“ä½œæŒ‰é’®æ  -->
    <div class="action-bar">
        <button onclick="window.print()" class="action-btn print-btn">ğŸ–¨ï¸ æ‰“å°ç™»æœºç‰Œ</button>
        <button onclick="goBack()" class="action-btn home-btn">â†©ï¸ è¿”å›é¦–é¡µ</button>
    </div>

    <script>
        // æœºåœºä¿¡æ¯æ•°æ®åº“
        const airports = {
            'åŒ—äº¬': { code: 'PEK', name: 'åŒ—äº¬é¦–éƒ½å›½é™…æœºåœº', country: 'ä¸­å›½' },
            'ä¸Šæµ·': { code: 'SHA', name: 'ä¸Šæµ·è™¹æ¡¥å›½é™…æœºåœº', country: 'ä¸­å›½' },
            'å¹¿å·': { code: 'CAN', name: 'å¹¿å·ç™½äº‘å›½é™…æœºåœº', country: 'ä¸­å›½' },
            'æ·±åœ³': { code: 'SZX', name: 'æ·±åœ³å®å®‰å›½é™…æœºåœº', country: 'ä¸­å›½' },
            'æˆéƒ½': { code: 'CTU', name: 'æˆéƒ½åŒæµå›½é™…æœºåœº', country: 'ä¸­å›½' },
            'é‡åº†': { code: 'CKG', name: 'é‡åº†æ±ŸåŒ—å›½é™…æœºåœº', country: 'ä¸­å›½' },
            'æ­å·': { code: 'HGH', name: 'æ­å·è§å±±å›½é™…æœºåœº', country: 'ä¸­å›½' },
            'å—äº¬': { code: 'NKG', name: 'å—äº¬ç¦„å£å›½é™…æœºåœº', country: 'ä¸­å›½' },
            'æ­¦æ±‰': { code: 'WUH', name: 'æ­¦æ±‰å¤©æ²³å›½é™…æœºåœº', country: 'ä¸­å›½' },
            'è¥¿å®‰': { code: 'XIY', name: 'è¥¿å®‰å’¸é˜³å›½é™…æœºåœº', country: 'ä¸­å›½' }
        };
        
        // ä»URLè·å–å‚æ•°
        function getUrlParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                name: params.get('name') || 'ä¹˜å®¢',
                from: params.get('from') || 'åŒ—äº¬',
                to: params.get('to') || 'ä¸Šæµ·'
            };
        }
        
        // é¡µé¢åŠ è½½æ—¶ç”Ÿæˆç™»æœºç‰Œ
        document.addEventListener('DOMContentLoaded', function() {
            const params = getUrlParams();
            
            // è®¾ç½®ä¹˜å®¢å§“å
            document.getElementById('passengerName').textContent = params.name.toUpperCase();
            
            // è·å–æœºåœºä¿¡æ¯
            const fromAirport = airports[params.from] || { 
                code: params.from.substring(0, 3).toUpperCase(), 
                name: params.from + 'æœºåœº',
                country: 'ä¸­å›½'
            };
            
            const toAirport = airports[params.to] || { 
                code: params.to.substring(0, 3).toUpperCase(), 
                name: params.to + 'æœºåœº',
                country: 'ä¸­å›½'
            };
            
            // è®¾ç½®å‡ºå‘åœ°ä¿¡æ¯
            document.getElementById('departureCode').textContent = fromAirport.code;
            document.getElementById('departureCity').textContent = params.from;
            document.getElementById('departureAirport').textContent = fromAirport.name;
            
            // è®¾ç½®ç›®çš„åœ°ä¿¡æ¯
            document.getElementById('arrivalCode').textContent = toAirport.code;
            document.getElementById('arrivalCity').textContent = params.to;
            document.getElementById('arrivalAirport').textContent = toAirport.name;
            
            // ç”Ÿæˆèˆªç­ä¿¡æ¯
            generateFlightInfo(params.name, fromAirport.code, toAirport.code);
            
            // ç”Ÿæˆæ¡å½¢ç 
            generateBarcode(params.name, fromAirport.code, toAirport.code);
        });
        
        // ç”Ÿæˆèˆªç­ä¿¡æ¯
        function generateFlightInfo(name, fromCode, toCode) {
            // æ˜å¤©æ—¥æœŸ
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            const flightDate = `${tomorrow.getFullYear()}/${(tomorrow.getMonth()+1).toString().padStart(2,'0')}/${tomorrow.getDate().toString().padStart(2,'0')}`;
            document.getElementById('flightDate').textContent = flightDate;
            
            // èˆªç­å·ï¼ˆåŸºäºåŸå¸‚ä»£ç ï¼‰
            const flightNumber = fromCode.charAt(0) + toCode.charAt(0) + 
                Math.floor(Math.random() * 1000).toString().padStart(3, '0');
            document.getElementById('flightNumber').textContent = flightNumber;
            document.getElementById('displayFlightNumber').textContent = `FLIGHT ${flightNumber}`;
            
            // éšæœºç™»æœºå£
            const gates = ['A3', 'B12', 'C7', 'D5', 'E9'];
            const gate = gates[Math.floor(Math.random() * gates.length)];
            document.getElementById('gateNumber').textContent = gate;
            
            // éšæœºåº§ä½
            const rows = Math.floor(Math.random() * 30) + 10;
            const seats = ['A', 'B', 'C', 'D', 'E', 'F'];
            const seat = seats[Math.floor(Math.random() * seats.length)];
            document.getElementById('seatNumber').textContent = `${rows}${seat}`;
            
            // éšæœºåºå·
            const seq = Math.floor(Math.random() * 200).toString().padStart(3, '0');
            document.getElementById('sequenceNumber').textContent = seq;
            
            // ç™»æœºæ—¶é—´ï¼ˆå½“å‰æ—¶é—´+2å°æ—¶ï¼‰
            const now = new Date();
            now.setHours(now.getHours() + 2);
            const boardingTime = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
            document.getElementById('boardingTime').textContent = boardingTime;
        }
        
        // ç”Ÿæˆæ¡å½¢ç ï¼ˆç®€åŒ–ç‰ˆï¼‰
        function generateBarcode(name, from, to) {
            const barcodeContainer = document.getElementById('barcodeContainer');
            const barcodeData = `BP:${name}:${from}-${to}:${Date.now()}`;
            
            // ä½¿ç”¨åœ¨çº¿æ¡å½¢ç ç”ŸæˆAPI
            barcodeContainer.innerHTML = `
                <img src="https://bwipjs-api.metafloor.com/?bcid=code128&text=${encodeURIComponent(barcodeData)}&scale=2&includetext&height=60&width=300"
                     alt="ç™»æœºç‰Œæ¡å½¢ç "
                     style="width: 100%; height: 60px; object-fit: contain;">
            `;
        }
        
        // è¿”å›é¦–é¡µ
        function goBack() {
            window.location.href = 'index.html';
        }
        
        // æ·»åŠ æ‰“å°å®Œæˆç›‘å¬
        window.addEventListener('afterprint', function() {
            alert('æ‰“å°å®Œæˆï¼è¯·å¦¥å–„ä¿ç®¡æ‚¨çš„ç™»æœºç‰Œã€‚');
        });
    </script>
</body>
</html>